{"version":3,"file":"calendar-year-picker.component.js","sourceRoot":"","sources":["../../../../../../../.ng_build/theme/components/calendar-kit/components/calendar-year-picker/calendar-year-picker.component.ts"],"names":[],"mappings":";;;;;AAMA,OAAO,EACL,uBAAuB,EACvB,SAAS,EACT,YAAY,EACZ,WAAW,EACX,KAAK,EAEL,MAAM,EACN,IAAI,GACL,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAC7C,OAAO,EAAkB,cAAc,EAAE,MAAM,aAAa,CAAC;AAC7D,OAAO,EAAE,2BAA2B,EAAE,MAAM,gCAAgC,CAAC;AAG7E,IAAM,gBAAgB,GAAG,EAAE,CAAC;;;6BAkCiB,2BAA2B;oBAEtC,cAAc,CAAC,MAAM;0BAI9B,IAAI,YAAY,EAAQ;;0BAX3C,yDAAc;uBAAC,aAAwC;YACzD,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;aACpC;;;;;0BAWC,iDAAM;;YACR,MAAM,CAAC,IAAI,CAAC,IAAI,KAAK,cAAc,CAAC,MAAM,CAAC;;;;;0BAIzC,gDAAK;;YACP,MAAM,CAAC,IAAI,CAAC,IAAI,KAAK,cAAc,CAAC,KAAK,CAAC;;;;;IAK5C,mDAAW,GAAX;QACE,IAAI,CAAC,SAAS,EAAE,CAAC;KAClB;IAED,iDAAS,GAAT;QAAA,iBAKC;QAJC,IAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAC7C,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,gBAAgB,GAAG,CAAC,CAAC,CAAC;QACjE,IAAM,KAAK,GAAG,KAAK,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,KAAI,CAAC,qBAAqB,CAAC,CAAC,GAAG,SAAS,CAAC,EAAzC,CAAyC,CAAC,CAAC;QAC1F,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;KAC9B;IAED,gDAAQ,GAAR,UAAS,IAAI;QACX,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC5B;IAEO,6DAAqB,GAA7B,UAA8B,CAAS;QACrC,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;KAC/D;;gBArEF,SAAS,SAAC;oBACT,QAAQ,EAAE,yBAAyB;oBACnC,QAAQ,EAAE,oSAWT;oBACD,eAAe,EAAE,uBAAuB,CAAC,MAAM;iBAChD;;;;yBAGE,KAAK;wBAEL,KAAK;wBAEL,KAAK;2BAEL,KAAK;mCAEL,KAAK,SAAC,eAAe;yBAQrB,KAAK;yBAEL,KAAK;+BAEL,MAAM;2BAEN,WAAW,SAAC,cAAc;0BAK1B,WAAW,SAAC,aAAa;;wCApE5B;;SAuCa,6BAA6B","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  HostBinding,\n  Input,\n  OnChanges,\n  Output,\n  Type,\n} from '@angular/core';\nimport { batch, range } from '../../helpers';\nimport { NbCalendarCell, NbCalendarSize } from '../../model';\nimport { NbCalendarYearCellComponent } from './calendar-year-cell.component';\n\n\nconst defaultYearCount = 20;\n\n@Component({\n  selector: 'nb-calendar-year-picker',\n  template: `\n    <nb-calendar-picker\n      [data]=\"years\"\n      [min]=\"min\"\n      [max]=\"max\"\n      [filter]=\"filter\"\n      [selectedValue]=\"date\"\n      [visibleDate]=\"year\"\n      [cellComponent]=\"cellComponent\"\n      (select)=\"onSelect($event)\">\n    </nb-calendar-picker>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NbCalendarYearPickerComponent implements OnChanges {\n\n  @Input() date: Date;\n\n  @Input() min: Date;\n\n  @Input() max: Date;\n\n  @Input() filter: (Date) => boolean;\n\n  @Input('cellComponent')\n  set _cellComponent(cellComponent: Type<NbCalendarCell<any>>) {\n    if (cellComponent) {\n      this.cellComponent = cellComponent;\n    }\n  }\n  cellComponent: Type<NbCalendarCell<any>> = NbCalendarYearCellComponent;\n\n  @Input() size: NbCalendarSize = NbCalendarSize.MEDIUM;\n\n  @Input() year: Date;\n\n  @Output() yearChange = new EventEmitter<Date>();\n\n  @HostBinding('class.medium')\n  get medium() {\n    return this.size === NbCalendarSize.MEDIUM;\n  }\n\n  @HostBinding('class.large')\n  get large() {\n    return this.size === NbCalendarSize.LARGE;\n  }\n\n  years: Date[][];\n\n  ngOnChanges() {\n    this.initYears();\n  }\n\n  initYears() {\n    const selectedYear = this.year.getFullYear();\n    const startYear = Math.ceil(selectedYear - defaultYearCount / 2);\n    const years = range(defaultYearCount).map(i => this.createYearDateByIndex(i + startYear));\n    this.years = batch(years, 4);\n  }\n\n  onSelect(year) {\n    this.yearChange.emit(year);\n  }\n\n  private createYearDateByIndex(i: number): Date {\n    return new Date(i, this.year.getMonth(), this.year.getDate());\n  }\n}\n"]}